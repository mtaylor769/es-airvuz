<!DOCTYPE html>
<html view="app.views.view.template.videoPlayer">
    <head>
        <meta http-equiv="Cache-control" content="public">
        <title>AirVÅ«z - {video.title}</title>

        <meta property="og:url" content="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.videoPath}"/>
        <meta property="og:type" content="video.other">
        <meta property="og:title" content="{video.title}" >
        <meta property="og:updated_time" content="{video.uploadDate}">
        <meta property="og:description" content="{video.description}" >
        <meta property="og:image" content="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.thumbnailPath}" >
        <meta property="fb:app_id" content="868675893230044">


        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/client/favicon.ico" type="image/x-icon">

        {!css page specific!}
        <link href="//vjs.zencdn.net/5.4.6/video-js.min.css" rel="stylesheet">
        {>  "app.views.view.partial.css" /}
    </head>
    <body>
        {> "app.views.view.partial.header" /}
    <div class="modal fade" tabindex="-1" id="report-modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Report Video</h4>
                </div>
                <div class="modal-body">
                    <p>Please enter report info below</p>
                    <textarea class="report-text" rows="5" style="width: 100%"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-videoid="{video._id}" id="send-report"> Send Report</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" tabindex="-1" id="comment-modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Login to comment</h4>
                </div>
                <div class="modal-body">
                    <p>Please login to make a comment</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary go-to-login" data-dismiss="modal">Go To Login</button>
                </div>
            </div>
        </div>
    </div>
        <div class="video-page">
            <div class="container main">
                <div class="row">
                    <div class="col-sm-8 videoplayback">
                        {!video title and back button!}
                        <div class="video-player-header flex">
                            <span class="glyphicon glyphicon-menu-left page-back"></span>
                            <span class="video-player-title airvuz-blue">{video.displayTitle}</span>
                            <div class="up-next">
                                <span class="up">UP NEXT</span>
                                <span class="glyphicon glyphicon-arrow-right"></span>
                            </div>
                        </div>
                        {!video player!}
                        <video class="video-js vjs-big-play-centered vjs-fullscreen"
                               controls preload="auto" autoplay style="position: relative; width: 100%; height: 100%"
                               poster="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.thumbnailPath}"
                               data-setup=''>
                            <source src="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.videoPath}" type="video/mp4" />
                        </video>
                        {!categories!}
                        <div class="flex video-player-categories font-white">
                            <ul class="list-inline categories">
                                {#video.categories}
                                <li>{name}</li>
                                {/video.categories}
                            </ul>
                        </div>
                        {!video owner info!}
                        <div class="flex video-user-info-height" style="background: #fafafa;">
                            <button class="btn background-orange border-radius-0 font-white add-button">+</button>
                            <img src="http://airvuz.com{user.profilePicture}" height="50" width="50" class="margin-auto border-radius-circle">
                            <div class="margin-auto t-a-inherit">
                                <p class="m-b-0 bold"><a class="airvuz-blue" href="/userProfile/{user.userName}">{user.userName}</a></p>
                                <p class="m-b-0"><span class="airvuz-blue bold">14 </span>Videos</p>
                                <p class="m-b-0"><span class="airvuz-blue bold">150 </span>followers</p>
                            </div>
                            <div class="top-videos margin-auto t-a-inherit mobile-display-none">
                                <p class="m-b-0">Top Videos by</p>
                                <p class="m-b-0">{user.userName}</p>
                            </div>
                            <img src="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.thumbnailPath}" height="75" width="150" class="margin-auto">
                            <img src="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{video.thumbnailPath}" height="75" width="150" class="margin-auto mobile-display-none small-desktop-none">
                            <div class="video-user-more border-radius-0 text-center mobile-display-none">
                                <p>More</p>
                            </div>
                        </div>
                        {!comments!}
                        <div class="gainsboro-background p-15-0">
                            <div class="inline m-l-10">
                                <span class="p-l-10 hidden-xs">{video.viewCount} <span class="bold airvuz-blue">VUZ</span> |</span>
                                <span class="like-count">{video.likeCount}</span><span class="bold">  Likes |</span>
                                <span> {video.commentCount} </span><span class="bold commentCount">Comments</span>
                            </div>
                            <div class="video-action-icons pull-right flex">
                                <span class="glyphicon glyphicon-heart like" data-videoId="{video._id}"></span>
                                <span class="glyphicon glyphicon-flag report"></span>
                                <span class="glyphicon glyphicon-share share"></span>
                                <div  class="social-icons" style="position: absolute; display: none; right: 0; width: 55px;height: auto; bottom: 33px; background: #2b2e38">
                                    <span class="fa fa-code social embed"></span>
                                    <span class="fa fa-google-plus-square social"></span>
                                    <span class="fa fa-twitter-square social"></span>
                                    <span class="fa fa-facebook-official social"></span>
                                </div>
                            </div>
                        </div>
                        <div class="flex write-comment" style="width: 100%; background: #fafafa;">
                            <textarea cols="90" rows="1" id="comment-text" placeholder="Post a comment..."></textarea>
                            <button class="btn background-orange border-radius-0 font-white" value="{video._id}" id="commentSave">Comment</button>
                        </div>
                        <ul class="parent-comments">
                        {#comments}
                            <li class="comment-wrap">
                                <div class="flex">
                                    <img src="http://www.airvuz.com/{user.profilePicture}" height="50" width="50" class="border-radius-circle m-10-20">
                                    <div class="m-t-20">
                                        <p class="pos-absolute-r-15" datetime="{commentCreatedDate}"></p>
                                        <p class="m-b-0 airvuz-blue">{userId.userName}</p>
                                        <p class="m-b-0">{comment}</p>
                                    </div>
                                </div>
                                <div  id="{_id}">
                                    <ul class="parentComment"></ul>
                                    <div class="row">
                                        <div class="reply col-xs-3 col-sm-2" value="{_id}" style="padding: 0 0 0 10px">
                                            <span class="glyphicon glyphicon-share-alt" style="margin: 0 0 0 30px; transform: scaleY(-1);"></span>
                                            <span style="font-size: 10px; margin-left: 2px">reply</span>
                                        </div>
                                        <div class="col-xs-3 col-md-2 commentReplies" value="{_id}">
                                            <span style="margin: 0; padding: 0 0 0 10px; font-size: 10px;">replies <a>{replyCount}</a></span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {/comments}
                        </ul>
                    </div>
                    {!up next video list!}
                    <div class="col-sm-4 nextVideos mobile-display-none" id="next">
                        <div class="flex">
                            <div class="videoback">
                                <span class="glyphicon glyphicon-arrow-left"></span>
                                <span class="up">VIDEO PLAYER</span>
                            </div>
                            <h5 class="up-tag">UP NEXT</h5>
                            <div class="auto-play">
                                <h5>AutoPlay</h5>
                                <input type="checkbox" id="auto-play-input">
                            </div>
                        </div>
                        <ul style="list-style: none; padding-left: 0">
                        {#upNext}
                            <li style="width: 100%; position: relative" class="go-to-video" value="{_id}">
                                <div class="up-next-wrapper">
                                    <img src="//s3-us-west-2.amazonaws.com/airvuz-drone-video/{thumbnailPath}" width="100%" height="60%" class="m-t-10">
                                    <div class="up-next-layer">
                                        <p class="font-white m-l-15 p-t-15 up-next-title">{title}</p>
                                        <div class="flex up-next-subs">
                                            <p class="font-white m-l-15">{duration}</p>
                                            <p class="font-white pos-absolute-r-15">{viewCount} <span class="airvuz-blue">VUZ</span></p>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {/upNext}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        {> "app.views.view.partial.footer" /}
        {> "app.views.view.partial.cdn-js" /}
        <div id="fb-root"></div>
        <script>
            window.fbAsyncInit = function() {
            FB.init({appId: '441356432709973', status: true, cookie: true,
            xfbml: true});
            };
            (function() {
                var e = document.createElement('script'); e.async = true;
                e.src = document.location.protocol +
                        '//connect.facebook.net/en_US/all.js';
                document.getElementById('fb-root').appendChild(e);
            }());
        </script>
        {!cdn page specfic!}
        <script src="//vjs.zencdn.net/5.4.6/video.min.js"></script>
        {> "app.views.view.partial.js" /}
        <script>
            (function() {
                console.log("doc loaded");
            })();
            $(function() {
                videoPlayer.initialize();
            });
        </script>
    </body>
    
</html>
